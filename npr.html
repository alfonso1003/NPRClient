<!DOCTYPE html>

<html>
	<head>
		<title>NPR Client</title>
		<style>
			ul	{
				
					list-style-type: none;	
			}
			
			ul li {
					font-family: arial;
					font-weight: bold;
					font-size: 1.25em;
					border: 1px solid black;
					width: 45%;
					padding-left: 3px;
					padding-top: 3px;
					padding-bottom: 3px;
					background-color: rgb(230,230,230)
			}
			
			ul li:hover {
					background-color: rgb(0,0,130);
					color: rgb(255,255,255);
			}
		</style>
		<script>
			var xmlhttp;

			window.onload = function()
			{
				xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = processData;
                xmlhttp.open("get", "http://api.npr.org/list?id=3218", false);
                xmlhttp.send();
			}
            
            function processData()
            {
                if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                    var ids = new Array();
					var titles = new Array();
					var output ="<ul id='selectable'>";
					//Parse XML in to two parallel arrays
                	var theXML = xmlhttp.responseXML.documentElement.getElementsByTagName('item');
					var numItems = theXML.length;
					for(var i=0; i< numItems; i++)
						{
							ids[i] = theXML[i].getAttribute('id');
							titles[i]= theXML[i].getElementsByTagName('title')[0].firstChild.textContent;
							output += buildOutputCell(ids[i], titles[i]);
						}
					output += "</ul>";
					document.getElementById('result').innerHTML = output;
				}
            }
			
			function buildOutputCell(id, data)
			{
				cellHTML = "<li id='" + id + "'>" + data + "</li>";
				return cellHTML;
			}
		</script>
	</head>
	<body>
		<div id="result"></div>
	</body>
</html>